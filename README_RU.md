# md-for-writers

Данный репозиторий содержит скрипты командной строки и шаблоны для писателей и создателей контента, с использованием Pandoc для верстки файлов в форматах Word, PDF и HTML. Все шаблоны оптимизированы для удобочитаемости и поддерживают русский язык, а также используют установленные в системе шрифты TrueType. Смотрите [примеры результатов](Examples/).

Инструкции по установке приводятся для MacOS. Команды приведены для оболочки по умолчанию `zsh`.

[English version](README.md)

## Установка необходимых инструментов

### Установка Pandoc и LaTeX

Для конвертации документов требуются инструменты Pandoc и LaTeX. LaTeX необходим как бэкенд для создания PDF файлов.
Homebrew, менеджер пакетов для macOS, используется для установки. Выполните следующие команды:

```zsh
brew update
brew install pandoc
brew install pdflatex
brew install basictex
```

### Установка дополнительных пакетов TeX

После установки LaTeX используйте менеджер `tlmgr` для установки дополнительных пакетов. Эти пакеты обеспечивают расширенную поддержку шрифтов и языков, а также содержат другие необходимые инструменты LaTeX:

- `collection-fontsrecommended`: Предоставляет набор рекомендуемых шрифтов для улучшенной типографики.
- `collection-langcyrillic`: Добавляет поддержку кириллицы, необходимую для документов на русском и других языках.
- `latex-tools`: Набор основных инструментов и пакетов для обработки LaTeX.
- `tcolorbox`: Обеспечивает среду для цветных и обрамлённых текстовых блоков с заголовочной строкой. Требует `environ` в качестве зависимости.

```zsh
tlmgr update --self
tlmgr install collection-fontsrecommended
tlmgr install collection-langcyrillic
tlmgr install latex-tools
tlmgr install environ
tlmgr install tcolorbox
```

Примечание: Выполняйте эти команды с префиксом `sudo`, если возникают проблемы с правами доступа.

## Установка пакета

Клонируем репозиторий в папку `.pandoc` в домашнем каталоге (ее надо создать при необходимости). Обновляем файл `.zshrc` для включения скриптов.

```zsh
cd ~
mkdir .pandoc
cd .pandoc
git clone https://github.com/ru13r/md-for-writers.git .
echo "source ~/.pandoc/zsh-scripts" >> ~/.zshrc
```

Для активации изменений перезапустите терминал или выполните команду:

```zsh
source ~/.zshrc
```

## Использование

Перейдите в каталог, содержащий ваши файлы Markdown. Используйте следующие команды для конвертации в желаемый формат. Выходные файлы будут сохранены в соответствующих папках (`pdfs`, `html` или `word`) в том же каталоге, что и исходные файлы.

- `mdToPDF file.md`: Конвертирует конкретный файл Markdown в PDF.
- `mdToHTML file.md`: Конвертирует конкретный файл Markdown в HTML.
- `mdToWord file.md`: Конвертирует конкретный файл Markdown в документ Word.

Для пакетной обработки используйте `*.md`, чтобы обработать все файлы в папке, например:

```zsh
mdToPDF *.md
```
Эта команда конвертирует все файлы `.md` в текущем каталоге в формат PDF и сохранит их в папке "pdfs".

### Опция `--no-title`
По умолчанию название обрабатываемого файла добавляется в выходной файл как заголовок первого уровня. Если это не требуется, используйте опцию `--no-title`:
```zsh
mdToPDF --no-title your_file.md
```

### Секция "Meta"
Вы можете использовать секцию "Meta" в конце файла для собственных заметок, комментариев или источников. Она будет игнорироваться при генерации выходного файла.
```markdown
Это текст
# Meta
Эта строка и сам заголовок Meta игнорируются в выходном файле.
```
